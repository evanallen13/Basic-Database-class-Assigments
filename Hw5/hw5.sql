Set echo On 
/* start C:\Users\evana\Desktop\IS380\hw5.sql */
DROP TABLE Purchase;
DROP TABLE DistProd;
DROP TABLE PoDates;
DROP TABLE UPC;
DROP TABLE Companies;


CREATE TABLE UPC(
	UPC number(10)PRIMARY KEY,
	ProdName varchar(20));

CREATE TABLE DistProd(
	DistProdID varchar(15) PRIMARY KEY,
	UPC number(10),
	CONSTRAINT fk_DistProd_UPC FOREIGN KEY (UPC) REFERENCES UPC(UPC));

CREATE TABLE Companies(
	DistID number(3) PRIMARY KEY,
	DistName varchar(20));

CREATE TABLE PoDates( 
	PurOrdNum number(5) PRIMARY KEY,
	PurOrdDate date,
	DistID number(3),
	CONSTRAINT fk_PoDates_DistID FOREIGN KEY (DistID) REFERENCES Companies(DistID));

CREATE TABLE Purchase(
	PurOrdNum number(5),
	DistProdID varchar(20),
	QTY number(3),
	PRIMARY KEY(PurOrdNum,DistProdID),
	CONSTRAINT fk_Purchase_PurOrdNum FOREIGN KEY (PurOrdNum) REFERENCES PoDates(PurOrdNum),
	CONSTRAINT fk_Purchase_DistProdID FOREIGN KEY (DistProdID) REFERENCES DistProd(DistProdID));

INSERT INTO Companies VALUES (101,'Acer Inc.');
INSERT INTO Companies VALUES (102,'DOIT Distribution');
INSERT INTO Companies VALUES (103,'HardwareKing');

INSERT INTO UPC VALUES (9785600001,'Screwdriver');
INSERT INTO UPC VALUES (9785600016,'Handsaw');
INSERT INTO UPC VALUES (9785600007,'Bolt cutter');
INSERT INTO UPC VALUES (9785600021,'Stanley Hammer-Pro');
INSERT INTO UPC VALUES (9785600023,'Chainsaw, 16 in.');
INSERT INTO UPC VALUES (9785600015,'2.75 in. bolt, 12');

INSERT INTO DistProd VALUES ('576-101', 9785600001);
INSERT INTO DistProd VALUES ('576-112', 9785600016);
INSERT INTO DistProd VALUES ('576-109', 9785600007);
INSERT INTO DistProd VALUES ('576-183', 9785600021);
INSERT INTO DistProd VALUES ('0-345111', 9785600023);
INSERT INTO DistProd VALUES ('0-345115', 9785600007);
INSERT INTO DistProd VALUES ('4-896101', 9785600015);
INSERT INTO DistProd VALUES ('3-896102', 9785600016);
INSERT INTO DistProd VALUES ('4152 BGR', 9785600001);
INSERT INTO DistProd VALUES ('4177 BXR', 9785600023);
INSERT INTO DistProd VALUES ('4178 BBR', 9785600021);

INSERT INTO PoDates VALUES (25278,'12-Mar-12',101);
INSERT INTO PoDates VALUES (25279,'12-Mar-12',102);
INSERT INTO PoDates VALUES (25281,'13-Mar-12',103);
INSERT INTO PoDates VALUES (25282,'13-Mar-12',102);
INSERT INTO PoDates VALUES (25283,'14-Mar-12',102);
INSERT INTO PoDates VALUES (25284,'14-Mar-12',103);

INSERT INTO Purchase VALUES (25278,'576-101',3);
INSERT INTO Purchase VALUES (25278,'576-112',1);
INSERT INTO Purchase VALUES (25278,'576-109',4);
INSERT INTO Purchase VALUES (25278,'576-183',2);
INSERT INTO Purchase VALUES (25279,'0-345111',1);
INSERT INTO Purchase VALUES (25279,'0-345115',12);
INSERT INTO Purchase VALUES (25279,'4-896101',8);
INSERT INTO Purchase VALUES (25279,'3-896102',2);
INSERT INTO Purchase VALUES (25281,'4152 BGR',3);
INSERT INTO Purchase VALUES (25281,'4177 BXR',3);
INSERT INTO Purchase VALUES (25281,'4178 BBR',1);
INSERT INTO Purchase VALUES (25282,'0-345115',4);
INSERT INTO Purchase VALUES (25283,'0-345115',3);
INSERT INTO Purchase VALUES (25283,'0-345111',5);
INSERT INTO Purchase VALUES (25283,'4-896101',8);
INSERT INTO Purchase VALUES (25284,'4178 BBR',3);
INSERT INTO Purchase VALUES (25284,'4177 BXR',5);

SELECT * FROM UPC;
SELECT * FROM DistProd;
SELECT * fROM Companies;
SELECT * FROM PoDates;
SELECT * FROM Purchase;

